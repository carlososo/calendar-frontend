[{"/home/charly/Documents/React/calendar-app/src/index.js":"1","/home/charly/Documents/React/calendar-app/src/CalendarApp.js":"2","/home/charly/Documents/React/calendar-app/src/components/auth/LoginScreen.js":"3","/home/charly/Documents/React/calendar-app/src/router/AppRouter.js":"4","/home/charly/Documents/React/calendar-app/src/components/ui/NavBar.js":"5","/home/charly/Documents/React/calendar-app/src/components/calendar/CalendarScreen.js":"6","/home/charly/Documents/React/calendar-app/src/helpers/calendar-messages-es.js":"7","/home/charly/Documents/React/calendar-app/src/components/calendar/CalendarEvent.js":"8","/home/charly/Documents/React/calendar-app/src/components/calendar/CalendarModal.js":"9","/home/charly/Documents/React/calendar-app/src/types/types.js":"10","/home/charly/Documents/React/calendar-app/src/actions/ui.js":"11","/home/charly/Documents/React/calendar-app/src/reducers/uiReducer.js":"12","/home/charly/Documents/React/calendar-app/src/store/store.js":"13","/home/charly/Documents/React/calendar-app/src/reducers/calendarReducer.js":"14","/home/charly/Documents/React/calendar-app/src/actions/events.js":"15","/home/charly/Documents/React/calendar-app/src/components/ui/AddNewFab.js":"16","/home/charly/Documents/React/calendar-app/src/reducers/rootReducer.js":"17","/home/charly/Documents/React/calendar-app/src/components/ui/DeleteEventFab.js":"18","/home/charly/Documents/React/calendar-app/src/reducers/authReducer.js":"19","/home/charly/Documents/React/calendar-app/src/hooks/useForm.js":"20","/home/charly/Documents/React/calendar-app/src/actions/auth.js":"21","/home/charly/Documents/React/calendar-app/src/helpers/fetch.js":"22","/home/charly/Documents/React/calendar-app/src/router/PrivateRoute.js":"23"},{"size":201,"mtime":1609697813010,"results":"24","hashOfConfig":"25"},{"size":323,"mtime":1608728085300,"results":"26","hashOfConfig":"25"},{"size":5133,"mtime":1609772450756,"results":"27","hashOfConfig":"25"},{"size":1218,"mtime":1609777117906,"results":"28","hashOfConfig":"25"},{"size":737,"mtime":1609777826716,"results":"29","hashOfConfig":"25"},{"size":2557,"mtime":1609102573058,"results":"30","hashOfConfig":"25"},{"size":343,"mtime":1608720607900,"results":"31","hashOfConfig":"25"},{"size":226,"mtime":1608721418300,"results":"32","hashOfConfig":"25"},{"size":5243,"mtime":1609116346060,"results":"33","hashOfConfig":"25"},{"size":646,"mtime":1609773084046,"results":"34","hashOfConfig":"25"},{"size":171,"mtime":1608729013570,"results":"35","hashOfConfig":"25"},{"size":507,"mtime":1608728985340,"results":"36","hashOfConfig":"25"},{"size":382,"mtime":1608728016240,"results":"37","hashOfConfig":"25"},{"size":1717,"mtime":1609092365302,"results":"38","hashOfConfig":"25"},{"size":565,"mtime":1609092125562,"results":"39","hashOfConfig":"25"},{"size":498,"mtime":1608940811380,"results":"40","hashOfConfig":"25"},{"size":280,"mtime":1608939640340,"results":"41","hashOfConfig":"25"},{"size":504,"mtime":1609163758840,"results":"42","hashOfConfig":"25"},{"size":538,"mtime":1609777750286,"results":"43","hashOfConfig":"25"},{"size":380,"mtime":1609698669450,"results":"44","hashOfConfig":"25"},{"size":2029,"mtime":1609777685256,"results":"45","hashOfConfig":"25"},{"size":1000,"mtime":1609773763516,"results":"46","hashOfConfig":"25"},{"size":552,"mtime":1609776819586,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"cmuaa0",{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/charly/Documents/React/calendar-app/src/index.js",[],"/home/charly/Documents/React/calendar-app/src/CalendarApp.js",[],["99","100"],"/home/charly/Documents/React/calendar-app/src/components/auth/LoginScreen.js",[],"/home/charly/Documents/React/calendar-app/src/router/AppRouter.js",[],"/home/charly/Documents/React/calendar-app/src/components/ui/NavBar.js",[],"/home/charly/Documents/React/calendar-app/src/components/calendar/CalendarScreen.js",[],"/home/charly/Documents/React/calendar-app/src/helpers/calendar-messages-es.js",[],["101","102"],"/home/charly/Documents/React/calendar-app/src/components/calendar/CalendarEvent.js",[],["103","104"],"/home/charly/Documents/React/calendar-app/src/components/calendar/CalendarModal.js",["105"],"import React, { useEffect, useState } from \"react\";\nimport Modal from \"react-modal\";\nimport moment from \"moment\";\nimport DateTimePicker from \"react-datetime-picker\";\nimport Swal from \"sweetalert2\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { uiCloseModal } from \"../../actions/ui\";\nimport {\n  eventAddNew,\n  eventClearActiveEvent,\n  eventUpdated,\n} from \"../../actions/events\";\n\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\",\n  },\n};\n\nModal.setAppElement(\"#root\");\n\n\nconst now = moment().minutes(0).seconds(0).add(1, \"hours\");\nconst endDate = now.clone().add(1, \"hours\");\n\nconst initEvent = {\n  title: \"Evento\",\n  notes: \"\",\n  start: now.toDate(),\n  end: endDate.toDate(),\n};\n\nexport const CalendarModal = () => {\n  const dispatch = useDispatch();\n\n  const { modalOpen } = useSelector((state) => state.ui);\n  const { activeEvent } = useSelector((state) => state.calendar);\n  const { selectedDate } = useSelector((state) => state.calendar);\n  \n  const [dateStart, setDateStart] = useState(now.toDate());\n  const [dateEnd, setDateEnd] = useState(endDate.toDate());\n  const [titleValid, setTitleValid] = useState(true);\n\n  const [formValues, setFormValues] = useState(initEvent);\n\n  const { title, notes, start, end } = formValues;\n  useEffect(() => {\n    if (activeEvent) {\n      setFormValues(activeEvent);\n    } else {\n      setFormValues(initEvent);\n    }\n  }, [activeEvent, setFormValues]);\n\n  useEffect(()=>{\n    if(selectedDate){\n      setDateStart(moment(selectedDate[0]).toDate())\n      setDateEnd(moment(selectedDate[1]).toDate())\n      setFormValues({\n        ...formValues,\n        start:moment(selectedDate[0]).toDate(),\n        end:moment(selectedDate[1]).toDate()\n\n      })\n    }\n    \n  },[selectedDate])\n\n  const handleInputChange = ({ target }) => {\n    setFormValues({\n      ...formValues,\n      [target.name]: target.value,\n    });\n  };\n\n  const closeModal = () => {\n    dispatch(uiCloseModal());\n    setFormValues(initEvent);\n    dispatch(eventClearActiveEvent());\n\n  };\n  const handleStartDateChange = (e) => {\n    console.log(e);\n    setDateStart(e);\n    setFormValues({\n      ...formValues,\n      start: e,\n    });\n  };\n  const handleEndDateChange = (e) => {\n    setDateEnd(e);\n    setFormValues({\n      ...formValues,\n      end: e,\n    });\n  };\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n\n    const momentStart = moment(start);\n    const momentEnd = moment(end);\n    if (momentStart.isSameOrAfter(momentEnd)) {\n      return Swal.fire(\n        \"Error\",\n        \"la fecha fin debe ser mayor a la fecha de inicio\",\n        \"error\"\n      );\n    }\n    if (title.trim().length < 2) {\n      return setTitleValid(false);\n    }\n\n    //TODO realizar grabación a base de datos\n    if (activeEvent) {\n      dispatch(eventUpdated(formValues));\n    } else {\n      dispatch(\n        eventAddNew({\n          ...formValues,\n          id: new Date().getTime(),\n          user: {\n            _id: \"123\",\n            name: \"Carlos\",\n          },\n        })\n      );\n    }\n\n    setTitleValid(true);\n    closeModal();\n  };\n\n  return (\n    <Modal\n      isOpen={modalOpen}\n      // onAfterOpen={afterOpenModal}\n      onRequestClose={closeModal}\n      style={customStyles}\n      closeTimeoutMS={200}\n      className=\"modal\"\n      overlayClassName=\"modal-fondo\"\n    >\n      <h1> {activeEvent ? \"Editando evento\" : \"Nuevo evento\"} </h1>\n      <hr />\n      <form className=\"container\" onSubmit={handleFormSubmit}>\n        <div className=\"form-group\">\n          <label>Fecha y hora inicio</label>\n          <DateTimePicker\n            onChange={handleStartDateChange}\n            value={dateStart}\n            className=\"form-control\"\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label>Fecha y hora fin</label>\n          <DateTimePicker\n            onChange={handleEndDateChange}\n            value={dateEnd}\n            minDate={dateStart}\n            className=\"form-control\"\n          />\n        </div>\n\n        <hr />\n        <div className=\"form-group\">\n          <label>Titulo y notas</label>\n          <input\n            type=\"text\"\n            className={`form-control  ${!titleValid && \"is-invalid\"}`}\n            placeholder=\"Título del evento\"\n            name=\"title\"\n            value={title}\n            onChange={handleInputChange}\n            autoComplete=\"off\"\n          />\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\n            Una descripción corta\n          </small>\n        </div>\n\n        <div className=\"form-group\">\n          <textarea\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Notas\"\n            rows=\"5\"\n            name=\"notes\"\n            value={notes}\n            onChange={handleInputChange}\n          ></textarea>\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\n            Información adicional\n          </small>\n        </div>\n\n        <button type=\"submit\" className=\"btn btn-outline-primary btn-block\">\n          <i className=\"far fa-save\"></i>\n          <span> Guardar</span>\n        </button>\n      </form>\n    </Modal>\n  );\n};\n","/home/charly/Documents/React/calendar-app/src/types/types.js",[],"/home/charly/Documents/React/calendar-app/src/actions/ui.js",[],["106","107"],"/home/charly/Documents/React/calendar-app/src/reducers/uiReducer.js",[],"/home/charly/Documents/React/calendar-app/src/store/store.js",[],"/home/charly/Documents/React/calendar-app/src/reducers/calendarReducer.js",[],"/home/charly/Documents/React/calendar-app/src/actions/events.js",[],"/home/charly/Documents/React/calendar-app/src/components/ui/AddNewFab.js",[],"/home/charly/Documents/React/calendar-app/src/reducers/rootReducer.js",[],"/home/charly/Documents/React/calendar-app/src/components/ui/DeleteEventFab.js",[],"/home/charly/Documents/React/calendar-app/src/reducers/authReducer.js",[],"/home/charly/Documents/React/calendar-app/src/hooks/useForm.js",[],"/home/charly/Documents/React/calendar-app/src/actions/auth.js",[],"/home/charly/Documents/React/calendar-app/src/helpers/fetch.js",[],"/home/charly/Documents/React/calendar-app/src/router/PrivateRoute.js",[],{"ruleId":"108","replacedBy":"109"},{"ruleId":"110","replacedBy":"111"},{"ruleId":"108","replacedBy":"112"},{"ruleId":"110","replacedBy":"113"},{"ruleId":"108","replacedBy":"114"},{"ruleId":"110","replacedBy":"115"},{"ruleId":"116","severity":1,"message":"117","line":72,"column":5,"nodeType":"118","endLine":72,"endColumn":19,"suggestions":"119"},{"ruleId":"108","replacedBy":"120"},{"ruleId":"110","replacedBy":"121"},"no-native-reassign",["122"],"no-negated-in-lhs",["123"],["122"],["123"],["122"],["123"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'formValues'. Either include it or remove the dependency array. You can also do a functional update 'setFormValues(f => ...)' if you only need 'formValues' in the 'setFormValues' call.","ArrayExpression",["124"],["122"],["123"],"no-global-assign","no-unsafe-negation",{"desc":"125","fix":"126"},"Update the dependencies array to be: [formValues, selectedDate]",{"range":"127","text":"128"},[1848,1862],"[formValues, selectedDate]"]